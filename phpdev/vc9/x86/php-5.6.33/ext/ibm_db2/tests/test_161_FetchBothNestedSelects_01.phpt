--TEST--
IBM-DB2: db2_fetch_both() - nested selects 1
--SKIPIF--
<?php 
require_once('skipif.inc'); 
require_once('skipif2.inc'); 
?>
--FILE--
<?php

require_once('connection.inc');

$conn = db2_connect($db,$username,$password);

$result = db2_exec($conn, "select * from emp_act");

while ($row = db2_fetch_both($result)) 
{
   printf ("%6s  ",$row[0]);
   printf ("%-6s ",$row[1]);
   printf ("%3d ",$row[2]);
   printf ("%9s ",$row['EMPTIME']);
   printf ("%10s ", $row['EMSTDATE']);
   printf ("%10s ", $row['EMENDATE']);
   printf ("%6s ", $row[0]);
   print "\n";
   $result2 = db2_exec($conn,"select * from employee where employee.empno='" . $row['EMPNO'] . "'");
   
   $row2 = db2_fetch_both($result2);
   
   if ($row2) 
   {
      printf(">>%s,%s,%s,$row2[3],$row2[3],$row2[5],$row2[6]\n",
      $row2['EMPNO'], $row2['FIRSTNME'],$row2['MIDINIT']);		
   }
}

?>
--EXPECTF--
000010  MA2100  10      0.50 1982-01-01 1982-11-01 000010 
>>000010,CHRISTINE,I,HAAS,HAAS,3978,1965-01-01
000010  MA2110  10      1.00 1982-01-01 1983-02-01 000010 
>>000010,CHRISTINE,I,HAAS,HAAS,3978,1965-01-01
000010  AD3100  10      0.50 1982-01-01 1982-07-01 000010 
>>000010,CHRISTINE,I,HAAS,HAAS,3978,1965-01-01
000020  PL2100  30      1.00 1982-01-01 1982-09-15 000020 
>>000020,MICHAEL,L,THOMPSON,THOMPSON,3476,1973-10-10
000030  IF1000  10      0.50 1982-06-01 1983-01-01 000030 
>>000030,SALLY,A,KWAN,KWAN,4738,1975-04-05
000030  IF2000  10      0.50 1982-01-01 1983-01-01 000030 
>>000030,SALLY,A,KWAN,KWAN,4738,1975-04-05
000050  OP1000  10      0.25 1982-01-01 1983-02-01 000050 
>>000050,JOHN,B,GEYER,GEYER,6789,1949-08-17
000050  OP2010  10      0.75 1982-01-01 1983-02-01 000050 
>>000050,JOHN,B,GEYER,GEYER,6789,1949-08-17
000070  AD3110  10      1.00 1982-01-01 1983-02-01 000070 
>>000070,EVA,D,PULASKI,PULASKI,7831,1980-09-30
000090  OP1010  10      1.00 1982-01-01 1983-02-01 000090 
>>000090,EILEEN,W,HENDERSON,HENDERSON,5498,1970-08-15
000100  OP2010  10      1.00 1982-01-01 1983-02-01 000100 
>>000100,THEODORE,Q,SPENSER,SPENSER,0972,1980-06-19
000110  MA2100  20      1.00 1982-01-01 1982-03-01 000110 
>>000110,VINCENZO,G,LUCCHESSI,LUCCHESSI,3490,1958-05-16
000130  IF1000  90      1.00 1982-01-01 1982-10-01 000130 
>>000130,DOLORES,M,QUINTANA,QUINTANA,4578,1971-07-28
000130  IF1000 100      0.50 1982-10-01 1983-01-01 000130 
>>000130,DOLORES,M,QUINTANA,QUINTANA,4578,1971-07-28
000140  IF1000  90      0.50 1982-10-01 1983-01-01 000140 
>>000140,HEATHER,A,NICHOLLS,NICHOLLS,1793,1976-12-15
000140  IF2000 100      1.00 1982-01-01 1982-03-01 000140 
>>000140,HEATHER,A,NICHOLLS,NICHOLLS,1793,1976-12-15
000140  IF2000 100      0.50 1982-03-01 1982-07-01 000140 
>>000140,HEATHER,A,NICHOLLS,NICHOLLS,1793,1976-12-15
000140  IF2000 110      0.50 1982-03-01 1982-07-01 000140 
>>000140,HEATHER,A,NICHOLLS,NICHOLLS,1793,1976-12-15
000140  IF2000 110      0.50 1982-10-01 1983-01-01 000140 
>>000140,HEATHER,A,NICHOLLS,NICHOLLS,1793,1976-12-15
000150  MA2112  60      1.00 1982-01-01 1982-07-15 000150 
>>000150,BRUCE, ,ADAMSON,ADAMSON,4510,1972-02-12
000150  MA2112 180      1.00 1982-07-15 1983-02-01 000150 
>>000150,BRUCE, ,ADAMSON,ADAMSON,4510,1972-02-12
000160  MA2113  60      1.00 1982-07-15 1983-02-01 000160 
>>000160,ELIZABETH,R,PIANKA,PIANKA,3782,1977-10-11
000170  MA2112  60      1.00 1982-01-01 1983-06-01 000170 
>>000170,MASATOSHI,J,YOSHIMURA,YOSHIMURA,2890,1978-09-15
000170  MA2112  70      1.00 1982-06-01 1983-02-01 000170 
>>000170,MASATOSHI,J,YOSHIMURA,YOSHIMURA,2890,1978-09-15
000170  MA2113  80      1.00 1982-01-01 1983-02-01 000170 
>>000170,MASATOSHI,J,YOSHIMURA,YOSHIMURA,2890,1978-09-15
000180  MA2113  70      1.00 1982-04-01 1982-06-15 000180 
>>000180,MARILYN,S,SCOUTTEN,SCOUTTEN,1682,1973-07-07
000190  MA2112  70      1.00 1982-02-01 1982-10-01 000190 
>>000190,JAMES,H,WALKER,WALKER,2986,1974-07-26
000190  MA2112  80      1.00 1982-10-01 1983-10-01 000190 
>>000190,JAMES,H,WALKER,WALKER,2986,1974-07-26
000200  MA2111  50      1.00 1982-01-01 1982-06-15 000200 
>>000200,DAVID, ,BROWN,BROWN,4501,1966-03-03
000200  MA2111  60      1.00 1982-06-15 1983-02-01 000200 
>>000200,DAVID, ,BROWN,BROWN,4501,1966-03-03
000210  MA2113  80      0.50 1982-10-01 1983-02-01 000210 
>>000210,WILLIAM,T,JONES,JONES,0942,1979-04-11
000210  MA2113 180      0.50 1982-10-01 1983-02-01 000210 
>>000210,WILLIAM,T,JONES,JONES,0942,1979-04-11
000220  MA2111  40      1.00 1982-01-01 1983-02-01 000220 
>>000220,JENNIFER,K,LUTZ,LUTZ,0672,1968-08-29
000230  AD3111  60      1.00 1982-01-01 1982-03-15 000230 
>>000230,JAMES,J,JEFFERSON,JEFFERSON,2094,1966-11-21
000230  AD3111  60      0.50 1982-03-15 1982-04-15 000230 
>>000230,JAMES,J,JEFFERSON,JEFFERSON,2094,1966-11-21
000230  AD3111  70      0.50 1982-03-15 1982-10-15 000230 
>>000230,JAMES,J,JEFFERSON,JEFFERSON,2094,1966-11-21
000230  AD3111  80      0.50 1982-04-15 1982-10-15 000230 
>>000230,JAMES,J,JEFFERSON,JEFFERSON,2094,1966-11-21
000230  AD3111 180      1.00 1982-10-15 1983-01-01 000230 
>>000230,JAMES,J,JEFFERSON,JEFFERSON,2094,1966-11-21
000240  AD3111  70      1.00 1982-02-15 1982-09-15 000240 
>>000240,SALVATORE,M,MARINO,MARINO,3780,1979-12-05
000240  AD3111  80      1.00 1982-09-15 1983-01-01 000240 
>>000240,SALVATORE,M,MARINO,MARINO,3780,1979-12-05
000250  AD3112  60      1.00 1982-01-01 1982-02-01 000250 
>>000250,DANIEL,S,SMITH,SMITH,0961,1969-10-30
000250  AD3112  60      0.50 1982-02-01 1982-03-15 000250 
>>000250,DANIEL,S,SMITH,SMITH,0961,1969-10-30
000250  AD3112  60      0.50 1982-12-01 1983-01-01 000250 
>>000250,DANIEL,S,SMITH,SMITH,0961,1969-10-30
000250  AD3112  60      1.00 1983-01-01 1983-02-01 000250 
>>000250,DANIEL,S,SMITH,SMITH,0961,1969-10-30
000250  AD3112  70      0.50 1982-02-01 1982-03-15 000250 
>>000250,DANIEL,S,SMITH,SMITH,0961,1969-10-30
000250  AD3112  70      1.00 1982-03-15 1982-08-15 000250 
>>000250,DANIEL,S,SMITH,SMITH,0961,1969-10-30
000250  AD3112  70      0.25 1982-08-15 1982-10-15 000250 
>>000250,DANIEL,S,SMITH,SMITH,0961,1969-10-30
000250  AD3112  80      0.25 1982-08-15 1982-10-15 000250 
>>000250,DANIEL,S,SMITH,SMITH,0961,1969-10-30
000250  AD3112  80      0.50 1982-10-15 1982-12-01 000250 
>>000250,DANIEL,S,SMITH,SMITH,0961,1969-10-30
000250  AD3112 180      0.50 1982-08-15 1983-01-01 000250 
>>000250,DANIEL,S,SMITH,SMITH,0961,1969-10-30
000260  AD3113  70      0.50 1982-06-15 1982-07-01 000260 
>>000260,SYBIL,P,JOHNSON,JOHNSON,8953,1975-09-11
000260  AD3113  70      1.00 1982-07-01 1983-02-01 000260 
>>000260,SYBIL,P,JOHNSON,JOHNSON,8953,1975-09-11
000260  AD3113  80      1.00 1982-01-01 1982-03-01 000260 
>>000260,SYBIL,P,JOHNSON,JOHNSON,8953,1975-09-11
000260  AD3113  80      0.50 1982-03-01 1982-04-15 000260 
>>000260,SYBIL,P,JOHNSON,JOHNSON,8953,1975-09-11
000260  AD3113 180      0.50 1982-03-01 1982-04-15 000260 
>>000260,SYBIL,P,JOHNSON,JOHNSON,8953,1975-09-11
000260  AD3113 180      1.00 1982-04-15 1982-06-01 000260 
>>000260,SYBIL,P,JOHNSON,JOHNSON,8953,1975-09-11
000260  AD3113 180      0.50 1982-06-01 1982-07-01 000260 
>>000260,SYBIL,P,JOHNSON,JOHNSON,8953,1975-09-11
000270  AD3113  60      0.50 1982-03-01 1982-04-01 000270 
>>000270,MARIA,L,PEREZ,PEREZ,9001,1980-09-30
000270  AD3113  60      1.00 1982-04-01 1982-09-01 000270 
>>000270,MARIA,L,PEREZ,PEREZ,9001,1980-09-30
000270  AD3113  60      0.25 1982-09-01 1982-10-15 000270 
>>000270,MARIA,L,PEREZ,PEREZ,9001,1980-09-30
000270  AD3113  70      0.75 1982-09-01 1982-10-15 000270 
>>000270,MARIA,L,PEREZ,PEREZ,9001,1980-09-30
000270  AD3113  70      1.00 1982-10-15 1983-02-01 000270 
>>000270,MARIA,L,PEREZ,PEREZ,9001,1980-09-30
000270  AD3113  80      1.00 1982-01-01 1982-03-01 000270 
>>000270,MARIA,L,PEREZ,PEREZ,9001,1980-09-30
000270  AD3113  80      0.50 1982-03-01 1982-04-01 000270 
>>000270,MARIA,L,PEREZ,PEREZ,9001,1980-09-30
000280  OP1010 130      1.00 1982-01-01 1983-02-01 000280 
>>000280,ETHEL,R,SCHNEIDER,SCHNEIDER,8997,1967-03-24
000290  OP1010 130      1.00 1982-01-01 1983-02-01 000290 
>>000290,JOHN,R,PARKER,PARKER,4502,1980-05-30
000300  OP1010 130      1.00 1982-01-01 1983-02-01 000300 
>>000300,PHILIP,X,SMITH,SMITH,2095,1972-06-19
000310  OP1010 130      1.00 1982-01-01 1983-02-01 000310 
>>000310,MAUDE,F,SETRIGHT,SETRIGHT,3332,1964-09-12
000320  OP2011 140      0.75 1982-01-01 1983-02-01 000320 
>>000320,RAMLAL,V,MEHTA,MEHTA,9990,1965-07-07
000320  OP2011 150      0.25 1982-01-01 1983-02-01 000320 
>>000320,RAMLAL,V,MEHTA,MEHTA,9990,1965-07-07
000330  OP2012 140      0.25 1982-01-01 1983-02-01 000330 
>>000330,WING, ,LEE,LEE,2103,1976-02-23
000330  OP2012 160      0.75 1982-01-01 1983-02-01 000330 
>>000330,WING, ,LEE,LEE,2103,1976-02-23
000340  OP2013 140      0.50 1982-01-01 1983-02-01 000340 
>>000340,JASON,R,GOUNOT,GOUNOT,5698,1947-05-05
000340  OP2013 170      0.50 1982-01-01 1983-02-01 000340 
>>000340,JASON,R,GOUNOT,GOUNOT,5698,1947-05-05
000020  PL2100  30      1.00 1982-01-01 1982-09-15 000020 
>>000020,MICHAEL,L,THOMPSON,THOMPSON,3476,1973-10-10
